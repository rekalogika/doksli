"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[569],{7738:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var i=n(4848),t=n(8453);const r={title:"Migrations"},s=void 0,o={id:"tutorial/migrations",title:"Migrations",description:"Migrations adalah cara untuk mengelola perubahan skema database.",source:"@site/docs/03-tutorial/04-migrations.md",sourceDirName:"03-tutorial",slug:"/tutorial/migrations",permalink:"/doksli/docs/tutorial/migrations",draft:!1,unlisted:!1,editUrl:"https://github.com/rekalogika/doksli/edit/main/docs/03-tutorial/04-migrations.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Migrations"},sidebar:"tutorialSidebar",previous:{title:"Konfigurasi ORM",permalink:"/doksli/docs/tutorial/orm"},next:{title:"Repository",permalink:"/doksli/docs/tutorial/repository"}},l={},u=[{value:"Membuat Migrasi",id:"membuat-migrasi",level:2},{value:"Menjalankan Migrasi",id:"menjalankan-migrasi",level:2}];function d(a){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...a.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"Migrations adalah cara untuk mengelola perubahan skema database."}),"\n",(0,i.jsx)(e.h2,{id:"membuat-migrasi",children:"Membuat Migrasi"}),"\n",(0,i.jsx)(e.p,{children:"Setelah memodifikasi file konfigurasi ORM, jalankan perintah berikut untuk\nmenghasilkan file migrasi:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ make migrations-make\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Perintah ini akan membuat file migrasi baru di direktori ",(0,i.jsx)(e.code,{children:"migrations/"}),". File\nmigrasi ini berisi perintah SQL untuk membuat, mengubah, atau menghapus tabel\natau kolom di database."]}),"\n",(0,i.jsxs)(e.p,{children:["Silakan cek isi file migrasi yang baru dibuat. Kadang perlu dilakukan\npenyesuaian manual, misalnya jika menambahkan kolom baru yang ",(0,i.jsx)(e.code,{children:"not null"}),", maka\nperlu diberikan nilai default. Atau dengan strategi membuat kolom baru dengan\n",(0,i.jsx)(e.code,{children:"null"}),", melakukan ",(0,i.jsx)(e.code,{children:"update"})," pada data yang sudah ada, lalu mengubah kolom menjadi\n",(0,i.jsx)(e.code,{children:"not null"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"menjalankan-migrasi",children:"Menjalankan Migrasi"}),"\n",(0,i.jsx)(e.p,{children:"Setelah file migrasi sudah disesuaikan, jalankan perintah berikut untuk\nmenjalankan migrasi:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ make migrations-migrate\n"})})]})}function m(a={}){const{wrapper:e}={...(0,t.R)(),...a.components};return e?(0,i.jsx)(e,{...a,children:(0,i.jsx)(d,{...a})}):d(a)}},8453:(a,e,n)=>{n.d(e,{R:()=>s,x:()=>o});var i=n(6540);const t={},r=i.createContext(t);function s(a){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof a?a(e):{...e,...a}}),[e,a])}function o(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(t):a.components||t:s(a.components),i.createElement(r.Provider,{value:e},a.children)}}}]);