"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[529],{5687:(a,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var e=i(4848),t=i(8453);const r={title:"Migrations"},s=void 0,o={id:"tutorial/domain/migrations",title:"Migrations",description:"Migrations adalah cara untuk mengelola perubahan skema database.",source:"@site/docs/03-tutorial/01-domain/04-migrations.md",sourceDirName:"03-tutorial/01-domain",slug:"/tutorial/domain/migrations",permalink:"/doksli/docs/tutorial/domain/migrations",draft:!1,unlisted:!1,editUrl:"https://github.com/rekalogika/doksli/edit/main/docs/03-tutorial/01-domain/04-migrations.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Migrations"},sidebar:"tutorialSidebar",previous:{title:"Konfigurasi ORM",permalink:"/doksli/docs/tutorial/domain/orm"},next:{title:"Repository",permalink:"/doksli/docs/tutorial/domain/repository"}},l={},d=[{value:"Membuat Migrasi",id:"membuat-migrasi",level:2},{value:"Menjalankan Migrasi",id:"menjalankan-migrasi",level:2}];function u(a){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:"Migrations adalah cara untuk mengelola perubahan skema database."}),"\n",(0,e.jsx)(n.h2,{id:"membuat-migrasi",children:"Membuat Migrasi"}),"\n",(0,e.jsx)(n.p,{children:"Setelah memodifikasi file konfigurasi ORM, jalankan perintah berikut untuk\nmenghasilkan file migrasi:"}),"\n",(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:"language-bash",children:"$ make migrations-make\n"})}),"\n",(0,e.jsxs)(n.p,{children:["Perintah ini akan membuat file migrasi baru di direktori ",(0,e.jsx)(n.code,{children:"migrations/"}),". File\nmigrasi ini berisi perintah SQL untuk membuat, mengubah, atau menghapus tabel\natau kolom di database."]}),"\n",(0,e.jsxs)(n.p,{children:["Silakan cek isi file migrasi yang baru dibuat. Kadang perlu dilakukan\npenyesuaian manual, misalnya jika menambahkan kolom baru yang ",(0,e.jsx)(n.code,{children:"not null"}),", maka\nperlu diberikan nilai default. Atau dengan strategi membuat kolom baru dengan\n",(0,e.jsx)(n.code,{children:"null"}),", melakukan ",(0,e.jsx)(n.code,{children:"update"})," pada data yang sudah ada, lalu mengubah kolom menjadi\n",(0,e.jsx)(n.code,{children:"not null"}),"."]}),"\n",(0,e.jsx)(n.h2,{id:"menjalankan-migrasi",children:"Menjalankan Migrasi"}),"\n",(0,e.jsx)(n.p,{children:"Setelah file migrasi sudah disesuaikan, jalankan perintah berikut untuk\nmenjalankan migrasi:"}),"\n",(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:"language-bash",children:"$ make migrations-migrate\n"})})]})}function m(a={}){const{wrapper:n}={...(0,t.R)(),...a.components};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(u,{...a})}):u(a)}},8453:(a,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var e=i(6540);const t={},r=e.createContext(t);function s(a){const n=e.useContext(r);return e.useMemo((function(){return"function"==typeof a?a(n):{...n,...a}}),[n,a])}function o(a){let n;return n=a.disableParentContext?"function"==typeof a.components?a.components(t):a.components||t:s(a.components),e.createElement(r.Provider,{value:n},a.children)}}}]);